<app-main-header>
    <button *ngIf="authService.isAdmin()" class="btn btn-danger" (click)="openDeletePopup()">
        <i class="bi bi-trash3"></i>
    </button>
</app-main-header>

<div class="main-container">
    <div *ngIf=game class="header">{{ game.metadata.gameType }} GAME INFO</div>
    <div class="info-container">
        <div *ngIf=game class="default-info">
            <img [src]="game.metadata.imageUrl" class="highlighted-container game-image" alt="uploaded-image">

            <div class="meta game-image">
                <div class="meta-item">
                    <div class="meta-label">Date</div>
                    <div>{{ game.metadata.playedAt | date:'MMM d, yyyy HH:mm'}}</div>
                    <!--<input type="datetime-local" [value]="game.metadata.playedAt | date:'yyyy-MM-ddTHH:mm'">-->
                </div>
                <div class="meta-item">
                    <div class="meta-label">Duration</div>
                    <div>{{game.metadata.duration | duration}}</div>
                    <!--<input type="time" step="1" class="form-control-sm" [value]="game.metadata.duration">-->
                </div>
            </div>
        </div>

        <!-- dynamically render component -->
        <ng-container *ngIf="gameInfoComponent as comp">
            <ng-container *ngComponentOutlet="comp;
                            inputs: {
                                metadata: game?.metadata,
                                gameState: game?.gameState,
                                resultState: game?.result
                            }"
            />
        </ng-container>
    </div>
</div>

<game-delete-popup #deletePopup (deleteGameEvent)="deleteGame()"/>